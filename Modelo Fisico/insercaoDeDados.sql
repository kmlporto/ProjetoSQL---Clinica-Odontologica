-- INSERCAO DE DADOS NO BANCO CLINICA ODONTOLOGICA

-- Inserção de dados na tabela convenio

INSERT INTO cli.convenio VALUES (1, 'Uniodonto', 0.10);
INSERT INTO cli.convenio VALUES (2, 'Bradesco', 0.08);
INSERT INTO cli.convenio VALUES (3, 'Unidentes', 0.07);

-- Inserção de dados na tabela cli.pessoa
INSERT INTO cli.pessoa VALUES (1,'35924780449','Renato Russo','P','M','1960-03-27',NULL,'Rua José Tavares Benevides','Trincheiras', 487,'apto 1001',991550618,NULL,NULL,NULL,1,'1323144');
INSERT INTO cli.pessoa VALUES (2,'91931395438','Cazuza Caju','P', 'M', NULL, '58056210', 'Rua José Benedito de Souza','Mangabeira', 841, NULL,891216968,NULL,NULL,NULL,2,'3134141');
INSERT INTO cli.pessoa VALUES (3,'97256961405','Elis Regina','P', 'M', '1945-07-17', NULL, 'Rua Doutor Gilvan Marinho Muribeca','Cabo Branco',835,'apto 2101',986242894,NULL,NULL,NULL,3,'43141087');
INSERT INTO cli.pessoa VALUES (4,'46133382473','Tim Maia','P', 'M', '1957-04-11', '58052517', 'Rua Pedro Neves da Silva','Jardim Cidade Universitária',226,'bl J apto 002',977516215,NULL,NULL,NULL,1,'43710914031');
INSERT INTO cli.pessoa VALUES (5,'34152110457','Milton Nascimento','P', 'M', '1942-08-26', '58084143', 'Rua Fotógrafa Ângela Maria da Silva','Jardim Veneza',487, NULL,982159834,NULL,NULL,NULL,2,'04732194310');
INSERT INTO cli.pessoa VALUES (6,'90732866464','Ney Matogrosso','P', 'M', '1987-01-03', '58037205', 'Rua Joaquim Mesquita Filho','Jardim Oceania', 212,' bl B apto 202',987110370,NULL,NULL,NULL,3,'743918777834');
INSERT INTO cli.pessoa VALUES (7,'31475223420','Caetano Veloso','P', 'M', NULL, '58087215', 'Rua Carlos Pedro dos Santos','Oitizeiro',799, NULL,996116250,NULL,NULL,NULL,1,'40380127041');
INSERT INTO cli.pessoa VALUES (8,'78576122430','Antônio Carlos Jobim','P', 'M', '1981-11-21', '58055460', 'Rua Maria Cavalcante de Matos','Mangabeira', 190, NULL,987231154,NULL,NULL,NULL,1,'30410987341');
INSERT INTO cli.pessoa VALUES (9,'62403941492','Chico Buarque','P', 'M', '1946-09-13', '58062303', 'Rua Antonio Silvino da Silva','Paratibe',900,'apto 2402',989518407,NULL,NULL,NULL,1,'843070917943');
INSERT INTO cli.pessoa VALUES (10,'39462805440','Gilberto Gil','P', 'M', '1953-04-19', '58059800', 'Rua dos Passáros Silvestres','Mangabeira',547, NULL,985432518,NULL,NULL,NULL,2,'94038107309');
INSERT INTO cli.pessoa VALUES (11,'01813947406','Rita Lee','P', 'F', '1942-08-08', '58028160', 'Avenida José Jardim','Ipês',793,'apto 101',990284767,NULL,NULL,NULL,2,'437490214091');
INSERT INTO cli.pessoa VALUES (12,'90257392459','Cássia Eller','P', 'F', '1962-12-29', '58041150', 'Rua Francisco Florêncio da Costa','Expedicionários', 607,NULL,998091088,NULL,NULL,NULL,1,'4307908179432');
INSERT INTO cli.pessoa VALUES (13,'77569621417','Elza Soares','P', 'F', '1944-09-22', '58068090', 'Rua Laura Ribeiro de Araújo','Gramame',569,'apto 341',912847038,NULL,NULL,NULL,3,'4038719714301');
INSERT INTO cli.pessoa VALUES (14,'61019106441','Gal Costa','P', 'F', '1944-08-10', '58068200', 'Rua Inácio Albino Neto','Gramame',358, NULL,930463738,NULL,NULL,NULL,1,'8431093874019');
INSERT INTO cli.pessoa VALUES (15,'30362147477','Lulu Santos','P', 'M', '1960-02-21', NULL, 'Rua João Batista Fernandes','Aeroclube',465,'apto 902',956185205,NULL,NULL,NULL,2,'8490317943012');
INSERT INTO cli.pessoa VALUES (16,'43369226405','Roberta Sá','P', 'F', '1959-11-14', NULL, 'Rua Severina Alves Batista do Carmo','Paratibe',724,'bl h apto 201',NULL,NULL,NULL,NULL,3,'84307192827012739');
INSERT INTO cli.pessoa VALUES (17,'95164140446','Marisa Monte','P', 'F', NULL, '58045220', 'Rua Atleta José de Carvalho da Cunha','Trincheiras', 333,'lote F casa 2',NULL,NULL,NULL,NULL,1,'34802719');
INSERT INTO cli.pessoa VALUES (18,'38795940405','Alceu Valença','P', 'M', '1959-05-02', '58040620', 'Rua Oscar Pereira de Souza','Torre', 225, NULL,NULL,NULL,NULL,NULL,1,'849301270921');
INSERT INTO cli.pessoa VALUES (19,'08704179404','Arnaldo Antunes','P', 'M', '1978-08-07', '58078070' , 'Rua Maria de Lira Chaves','Funcionários',752,'bl O apto 404',NULL,NULL,NULL,NULL,1,'43018701719');
INSERT INTO cli.pessoa VALUES (20,'99270939421','Chico Science','P', 'M', '1945-06-04', '58010080', 'Rua Duarte Lima','Varadouro',578,'casa 3f',NULL,NULL,NULL,NULL,2,'43018749130');
INSERT INTO cli.pessoa VALUES (21,'22357316438','Cartola','P', 'M', NULL, '58052282', 'Rua Celina Soares de Azevedo','Jardim Cidade Universitária', 580, 'apto 01',NULL,NULL,NULL,NULL,2,'0843709183791');
INSERT INTO cli.pessoa VALUES (22,'03612785435','Carlinhos Brown','P', 'M', '1978-05-16', '58090580', 'Rua Luiz de França Pereira','Alto do Mateus',694, NULL,NULL,NULL,NULL,NULL,2,'4308179817231');
INSERT INTO cli.pessoa VALUES (23,'27881854480','Maria Rita','P', 'F', '1949-04-06', '58034060' , 'Rua Professora Gercina Coutinho','Brisamar',622,'apto 2101',NULL,NULL,NULL,NULL,1,'483917409818279');
INSERT INTO cli.pessoa VALUES (24,'84889748415','Maria Bethania','P', 'F', '1956-10-14', '58028270', 'Rua Major Álvaro Monteiro','Ipês', 136, NULL,311108850,NULL,NULL,NULL,1,'48309179041792');
INSERT INTO cli.pessoa VALUES (25,'72001690487','Marina Lima','P', 'F', '1960-07-07', NULL, 'Praça Dom Ulrico','Centro',880, NULL,982343947,NULL,NULL,NULL,1,'4830917901804231');
INSERT INTO cli.pessoa VALUES (26,'89499100474','Lenine','P', 'M', NULL, '58036610', 'Rua Rita Sabino de Andrade','Aeroclube',587,'apto 1001',988131482,NULL,NULL,NULL,1,'34814320110');
INSERT INTO cli.pessoa VALUES (27,'95504401410','Céu','P', 'F', '1947-06-22', '58051811', 'Rua Arnaldo Leite','Bancários', 560 ,'apto704',971801585,NULL,NULL,NULL,NULL,NULL);
INSERT INTO cli.pessoa VALUES (28,'25606615436','Vanessa da Matta','P', 'F', '1973-01-03', NULL, 'Rua Solon Machado','José Américo de Almeida',801, NULL,913100500,NULL,NULL,NULL,NULL,NULL);
INSERT INTO cli.pessoa VALUES (29,'03823072404','Erasmo Carlos','P', 'M', '1987-01-04', NULL, 'Rua Francisca Maria Bezerra Cavalcante','Mangabeira',337, NULL,980962164,NULL,NULL,NULL,NULL,NULL);
INSERT INTO cli.pessoa VALUES (30, '07397510426','Rafael Lins','F','M','1987-09-08','58033-330', 'Rua casemiro de abreu','Jardim Luna', 50, 'apto 1403',988590403,NULL, '2018-07-07',1,NULL,NULL);
INSERT INTO cli.pessoa VALUES (31, '08919134405','Julianna Larissa Lins','D','F','1989-01-17','58033-330', 'Rua casemiro de abreu','Jardim Luna', 50, 'apto 1403',988690583,'8717-PB', '2018-07-07',2,NULL,NULL);

-- Inserção de dados na tabela anamnese

--Inserir dados na tabela medicamento 
INSERT INTO cli.medicamento VALUES (1,'Amoxilina');
INSERT INTO cli.medicamento VALUES (2,'Dipirona');
INSERT INTO cli.medicamento VALUES (3,'Nimesulida');
INSERT INTO cli.medicamento VALUES(4, 'Narix 0,5mg/ml FR 30ml');
INSERT INTO cli.medicamento VALUES(5, 'Albendazol 400mg und');
INSERT INTO cli.medicamento VALUES(6, 'Lozeprel 20mg c/ 56 cps (omeoprazol)');
INSERT INTO cli.medicamento VALUES(7, 'Ácido fólico 5MF C 20 cpr (folipur)');


-- Inserir dados na tabela de dentes
INSERT INTO cli.dente VALUES (11,'Incisivo Central Superior Direito');
INSERT INTO cli.dente VALUES (12, 'Incisivo Lateral Superior Direito');
INSERT INTO cli.dente VALUES (13, 'Canino Superior Direito');
INSERT INTO cli.dente VALUES (14, 'Primeiro Pré-molar Superior Direito');
INSERT INTO cli.dente VALUES (15, 'Segundo Pré-molar Superior Direito');
INSERT INTO cli.dente VALUES (16, 'Primeiro Molar Superior Direito');
INSERT INTO cli.dente VALUES (17, 'Segundo Molar Superior Direito');
INSERT INTO cli.dente VALUES (18, 'Terceiro Molar Superior Direito');
INSERT INTO cli.dente VALUES (19, 'Dente Permanente Supranumerário Hemi-arco');
INSERT INTO cli.dente VALUES (21, 'Incisivo Central Superior Esquerdo');
INSERT INTO cli.dente VALUES (22, 'Incisivo Lateral Superior Esquerdo');
INSERT INTO cli.dente VALUES (23, 'Canino Superior Esquerdo');
INSERT INTO cli.dente VALUES (24, 'Primeiro Pré-molar Superior Esquerdo');
INSERT INTO cli.dente VALUES (25 ,'Segundo Pré-molar Superior Esquerdo');
INSERT INTO cli.dente VALUES (26 ,'Primeiro Molar Superior Esquerdo');
INSERT INTO cli.dente VALUES (27 ,'Segundo Molar Superior Esquerdo');
INSERT INTO cli.dente VALUES (28 ,'Terceiro Molar Superior Esquerdo');
INSERT INTO cli.dente VALUES (29 ,'Dente Permanente Supranumerário Hemi-arco Superior Esquerdo');
INSERT INTO cli.dente VALUES (31 ,'Incisivo Central Inferior Esquerdo');
INSERT INTO cli.dente VALUES (32 ,'Incisivo Lateral Inferior Esquerdo');
INSERT INTO cli.dente VALUES (33 ,'Canino Inferior Esquerdo');
INSERT INTO cli.dente VALUES (34 ,'Primeiro Pré-molar Inferior Esquerdo');
INSERT INTO cli.dente VALUES (35 ,'Segundo Pré-molar Inferior Esquerdo');
INSERT INTO cli.dente VALUES (36 ,'Primeiro Molar Inferior Esquerdo');
INSERT INTO cli.dente VALUES (37 ,'Segundo Molar Inferior Esquerdo');
INSERT INTO cli.dente VALUES (38 ,'Terceiro Molar Inferior Esquerdo');
INSERT INTO cli.dente VALUES (39 ,'Dente Permanente Supranumerário Hemi-arco Inferior Esquerdo');
INSERT INTO cli.dente VALUES (41 ,'Incisivo Central Inferior Direito');
INSERT INTO cli.dente VALUES (42 ,'Incisivo Lateral Inferior Direito');
INSERT INTO cli.dente VALUES (43 ,'Canino Inferior Direito');
INSERT INTO cli.dente VALUES (44 ,'Primeiro Pré-molar Inferior Direito');
INSERT INTO cli.dente VALUES (45 ,'Segundo Pré-molar Inferior Direito');
INSERT INTO cli.dente VALUES (46 ,'Primeiro Molar Inferior Direito');
INSERT INTO cli.dente VALUES (47 ,'Segundo Molar Inferior Direito');
INSERT INTO cli.dente VALUES (48 ,'Terceiro Molar Inferior Direito');
INSERT INTO cli.dente VALUES (49 ,'Dente Permanente Supranumerário Hemi-arco Inferior Direito');
INSERT INTO cli.dente VALUES (51 ,'Incisivo Central Decíduo Superior Direito');
INSERT INTO cli.dente VALUES (52 ,'Incisivo Lateral Decíduo Superior Direito');
INSERT INTO cli.dente VALUES (53 ,'Canino Decíduo Superior Direito');
INSERT INTO cli.dente VALUES (54 ,'Primeiro Molar Decíduo Superior Direito');
INSERT INTO cli.dente VALUES (55 ,'Segundo Molar Decíduo Superior Direito');
INSERT INTO cli.dente VALUES (59 ,'Dente Decíduo Supranumerário Hemi-arco Superior Direito');
INSERT INTO cli.dente VALUES (61 ,'Incisivo Central Decíduo Superior Esquerdo');
INSERT INTO cli.dente VALUES (62 ,'Incisivo Lateral Decíduo Superior Esquerdo');
INSERT INTO cli.dente VALUES (63 ,'Canino Decíduo Superior Esquerdo');
INSERT INTO cli.dente VALUES (64 ,'Primeiro Molar Decíduo Superior Esquerdo');
INSERT INTO cli.dente VALUES (65 ,'Segundo Molar Decíduo Superior Esquerdo');
INSERT INTO cli.dente VALUES (69 ,'Dente Decíduo Supranumerário Hemi-arco Superior Esquerdo');
INSERT INTO cli.dente VALUES (71 ,'Incisivo Central Decíduo Inferior Esquerdo');
INSERT INTO cli.dente VALUES (72 ,'Incisivo Lateral Decíduo Inferior Esquerdo');
INSERT INTO cli.dente VALUES (73 ,'Canino Decíduo Inferior Esquerdo');
INSERT INTO cli.dente VALUES (74 ,'Primeiro Molar Decíduo Inferior Esquerdo');
INSERT INTO cli.dente VALUES (75 ,'Segundo Molar Decíduo Inferior Esquerdo');
INSERT INTO cli.dente VALUES (79 ,'Dente Decíduo Supranumerário Hemi-arco Inferior Esquerdo');
INSERT INTO cli.dente VALUES (81 ,'Incisivo Central Decíduo Inferior Direito');
INSERT INTO cli.dente VALUES (82 ,'Incisivo Lateral Decíduo Inferior Direito');
INSERT INTO cli.dente VALUES (83 ,'Canino Decíduo Inferior Direito');
INSERT INTO cli.dente VALUES (84 ,'Primeiro Molar Decíduo Inferior Direito');
INSERT INTO cli.dente VALUES (85 ,'Segundo molar Decíduo Inferior Direito');
INSERT INTO cli.dente VALUES (89 ,'Dente Decíduo Supranumerário Hemi-arco Inferior Direito');

-- INSERCAO DADOS TABELA PROCEDIMENTOS

CREATE TABLE cli.tempprocedimento (
  idprocedimento INT NOT NULL,
  descricao VARCHAR(150) NOT NULL);
COPY cli.tempprocedimento FROM 'D:/Projeto BD II/Modelo Fisico/procedimento.csv' WITH (FORMAT csv);
INSERT INTO cli.procedimento SELECT DISTINCT * from cli.tempprocedimento;
drop table cli.tempprocedimento;

-- insercao de dados tabela tipoface

INSERT INTO cli.tipoface values ('M','MESIAL');
INSERT INTO cli.tipoface values ('D','DISTAL');
INSERT INTO cli.tipoface values ('O','OCLUSAL');
INSERT INTO cli.tipoface values ('V','VESTIBULAR');
INSERT INTO cli.tipoface values ('L','LINGUAL');

-- INSERCAO DE DADOS rConvenioPaciente

INSERT INTO cli.rconveniopaciente values (1,2);
INSERT INTO cli.rconveniopaciente values (2,1);
INSERT INTO cli.rconveniopaciente values (1,3);

-- insercao de dados tabela diagnostico

INSERT INTO cli.diagnostico values (1, 'Cárie');
INSERT INTO cli.diagnostico values (2, 'Placa bacteriana');
INSERT INTO cli.diagnostico values (3, 'Gengivite');
INSERT INTO cli.diagnostico values (4, 'Periodontite');
INSERT INTO cli.diagnostico values (5, 'Afta');
INSERT INTO cli.diagnostico values (6, 'Halitose');

-- insercao de dados tabela FaceDente

DO $$
DECLARE
	cursor_dente CURSOR FOR SELECT * FROM cli.dente;
	cursor_tipoface CURSOR FOR SELECT * FROM cli.tipoface;
BEGIN
	FOR v1 IN cursor_tipoface LOOP
		FOR v2 IN cursor_dente LOOP
			INSERT INTO cli.faceDente VALUES (v1.idtipoface, v2.iddente);
		END LOOP;
	END LOOP;
END $$;


-- insercao de dados tabela Amamnese
 
INSERT INTO cli.Anamnese VALUES(1, TRUE, FALSE, null);
INSERT INTO cli.Anamnese VALUES(2, FALSE, FALSE, 'alergia a dipirona');
INSERT INTO cli.Anamnese VALUES(3, FALSE, TRUE, null);
INSERT INTO cli.Anamnese VALUES(4, FALSE, FALSE, null);
INSERT INTO cli.Anamnese VALUES(5, FALSE, FALSE, 'alergia a dipirona');
INSERT INTO cli.Anamnese VALUES(6, TRUE, TRUE, 'alergia a bezatacil');
INSERT INTO cli.Anamnese VALUES(7, FALSE, FALSE, null);
-- SELECT * FROM cli.Anamnese


-- ********************* DEPOIS DE RODAR AS FUNÇÕES *************************

-- insercao de dados tabela Consulta

-- 1ª linha não encontra telefone, pois nao existe
--SELECT cli.agendaconsulta (988590403,988690583,'2018-07-24');
SELECT cli.agendaconsulta (988131482,988690583,'2018-07-21');
SELECT cli.agendaconsulta (996116250,988690583,'2018-07-20');
SELECT cli.agendaconsulta (987231154,988690583,'2018-07-25');
SELECT cli.agendaconsulta (989518407,988690583,'2018-07-22');
SELECT cli.agendaconsulta (990284767,988690583,'2018-08-08');
SELECT cli.agendaconsulta (988131482,988690583,'2018-08-01');
SELECT cli.agendaconsulta (980962164,988690583,'2018-07-17');
insert into cli.consulta values (6,31,null, null, '2018-01-01',null,100);

--SELECT * FROM cli.consulta
-- insercao de dados tabela documento

SELECT cli.criarDocumento (3, 'D');
SELECT cli.criarDocumento (2, 'A', 1);
SELECT cli.criarDocumento (6, 'D');
SELECT cli.criarDocumento (7, 'A', 1);
SELECT cli.criarDocumento (1, 'A', 3);

SELECT * FROM cli.documento;


-- UPDATES

-- adicionar anamnsese em consulta
UPDATE cli.consulta SET idanamnese = 1 WHERE idconsulta = 2;
UPDATE cli.consulta SET idanamnese = 2 WHERE idconsulta = 3;
UPDATE cli.consulta SET idanamnese = 3 WHERE idconsulta = 4;
UPDATE cli.consulta SET idanamnese = 4 WHERE idconsulta = 1;
UPDATE cli.consulta SET idanamnese = 5 WHERE idconsulta = 5;
UPDATE cli.consulta SET idanamnese = 7 WHERE idconsulta = 6;
UPDATE cli.consulta SET idanamnese = 6 WHERE idconsulta = 7;

-- adicionar odontograma em consulta
SELECT cli.geraOdontogramaSimples (1, 'deciduo');
SELECT cli.geraOdontogramaSimples (2, 'permanente');
SELECT cli.geraOdontogramaSimples (3, 'permanente');
SELECT cli.geraOdontogramaSimples (4, 'deciduo');

-- Adicionando diagnostico a faceDente
INSERT INTO cli.rOdontogramaFaceDenteDiagnostico VALUES (1,1,'M',52);
INSERT INTO cli.rOdontogramaFaceDenteDiagnostico VALUES (2,2,'M',12);
INSERT INTO cli.rOdontogramaFaceDenteDiagnostico VALUES (3,3,'M',13);
INSERT INTO cli.rOdontogramaFaceDenteDiagnostico VALUES (4,4,'M',62);
INSERT INTO cli.rOdontogramaFaceDenteDiagnostico VALUES (4,1,'M',63);
INSERT INTO cli.rOdontogramaFaceDenteDiagnostico VALUES (4,2,'M',64);

-- Adicionando procedimento a faceDente
INSERT INTO cli.rOdontogramaFaceDenteProcedimento VALUES ('M',52,1,85100200,'O dente está com problemas', current_date, 'A');
INSERT INTO cli.rOdontogramaFaceDenteProcedimento VALUES ('M',12,2,85100200,'O dente está problematico', current_date, 'R');
INSERT INTO cli.rOdontogramaFaceDenteProcedimento VALUES ('M',13,3,85100200,'O dente está prejudicado', current_date, 'F');
INSERT INTO cli.rOdontogramaFaceDenteProcedimento VALUES ('M',62,4,85100200,'O dente está com prejuizo', current_date, 'a');
INSERT INTO cli.rOdontogramaFaceDenteProcedimento VALUES ('M',63,4,85100200,'O dente está estranho', current_date, 'F');
INSERT INTO cli.rOdontogramaFaceDenteProcedimento VALUES ('M',64,4,85100200,'O dente está com calculo dentário', current_date, 'F');
--select * FROM cli.faceDenteVersao
--select * from cli.rOdontogramaFaceDenteProcedimento
select * from cli.faceDenteVersao
